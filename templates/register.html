<!DOCTYPE html>
<html lang="en">
<head>

    <meta charset="UTF-8">
    <link rel="shortcut icon" href="/static/Images/dulogo.png" type="image/x-icon" />
    <title>CSEDU ProjectHub Rgistration</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
        <!-- Font Awesome -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <!-- Bootstrap core CSS -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css" rel="stylesheet">
    <!-- Material Design Bootstrap -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.5.13/css/mdb.min.css" rel="stylesheet">
    <!-- JQuery -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <!-- Bootstrap tooltips -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.4/umd/popper.min.js"></script>
    <!-- Bootstrap core JavaScript -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/js/bootstrap.min.js"></script>
    <!-- MDB core JavaScript -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.5.13/js/mdb.min.js"></script>

<script>
    function CreateData()
    {
        var email = document.getElementById('email').value;
        var pass = document.getElementById('pass').value;
        var fname = document.getElementById('fname').value;
        var lname = document.getElementById('lname').value;
        var reg = document.getElementById('reg').value;
        var session = document.getElementById('session').value;
        console.log(email);
        console.log(pass);
        console.log(lname);
        console.log(fname);
        console.log(reg);
        console.log(session);
        if(email.includes('@'))
        {
            window.alert('Invalid email');
            return;
        }
        if(pass.length<6)
        {
            window.alert('Password must be at least 6 laters.');
            return;
        }
        if(lname.length<1)
        {
            window.alert('Must include a last name.');
            return;
        }

        if(fname.length<1)
        {
            window.alert('Must include a first name.');
            return;
        }

        if(reg.length<1)
        {
            window.alert('Must include a register number.');
            return;
        }


        if(session.length<1)
        {
            window.alert('Must include a session.');
            return;
        }

        $.ajax({
            url: '/register',
            data: {'email':email, 'pass':pass, 'fname':fname, 'lname':lname, 'reg':reg, 'session':session},
            dataType: 'json',
            type: 'POST',
            success: function (response) {
                console.log(response.status);
                window.alert(response.status);
                if(response.status.includes('success'))
                {
                     window.location.replace('/login');
                }

            },
            error: function (error) {
                console.log(error.toString());
                window.alert(response.status);
                window.location.replace('/register');
            }
        });
    }
</script>

</head>
<body>

    <div style="position: fixed; top: 0%; left: 0%; width: 100%; height: 12%; background: #161651;">
        <a href="http://www.cse.du.ac.bd/"><img alt="Department of Computer Science and Engineering, University of Dhaka" src="/static/Images/dulogo.png" height="90" width="80" style="position:fixed; top: 0.5%; left: 0.5%"></a>
        <a href="/" style="position: fixed; font-family: sans-serif; font-size: 160%; color: white; text-decoration: none; left: 6.5%; top: 1.5%">CSEDU Project Hub</a>
        <a href="/" style="position: fixed; font-family: sans-serif; font-size: 160%; color: white; text-decoration: none; left: 6.5%; top: 6%">Department of Computer Science & Engineering, University of Dhaka</a>
    </div>
    <!-- Material form register -->
    <div class="card" style="position: fixed; top: 20%; left: 25%; width: 50%;  ">

        <h5 class="card-header white-color white-text text-center py-4" style="background: #161651;">
            <strong>Register</strong>
        </h5>

        <!--Card content-->
        <div class="card-body px-lg-5 pt-0">

            <!-- Form -->
            <form class="text-center" style="color: #161651;">

                <div class="form-row">
                    <div class="col">
                        <!-- First name -->
                        <div class="md-form">
                            <input type="text" id="fname" class="form-control">
                            <small id="materialRegisterFormPasswordHelpBlock" class="form-text text-muted mb-4">
                                First Name
                            </small>
                        </div>
                    </div>
                    <div class="col">
                        <!-- Last name -->
                        <div class="md-form">
                            <input type="text" id="lname" class="form-control">
                            <small id="materialRegisterFormPasswordHelpBlock" class="form-text text-muted mb-4">
                                Last Name
                            </small>
                        </div>
                    </div>
                </div>
                <div class="form-row">
                    <div class="col">
                        <!-- First name -->
                        <div class="md-form">
                            <input type="text" id="reg" class="form-control">
                            <small id="materialRegisterFormPasswordHelpBlock" class="form-text text-muted mb-4">
                                Registration Number
                            </small>
                        </div>
                    </div>
                    <div class="col">
                        <!-- Last name -->
                        <div class="md-form">
                            <input type="text" id="session" class="form-control">
                            <small id="materialRegisterFormPasswordHelpBlock" class="form-text text-muted mb-4">
                                Session
                            </small>
                        </div>
                    </div>
                </div>
                <!-- E-mail -->
                <div class="md-form mt-0">
                    <input type="email" id="email" class="form-control">
                    <p>@student.cse.du.ac.bd</p>
                    <small id="materialRegisterFormPasswordHelpBlock" class="form-text text-muted mb-4">
                        Email: CSEDU Email
                    </small>
                </div>

                <!-- Password -->
                <div class="md-form">
                    <input type="password" id="pass" class="form-control" aria-describedby="materialRegisterFormPasswordHelpBlock">
                    <small id="materialRegisterFormPasswordHelpBlock" class="form-text text-muted mb-4">
                        Password: At Least 6 Characters
                    </small>
                </div>


                <!-- Sign up button -->
                <button class="btn btn-outline-black btn-rounded btn-block my-4 waves-effect z-depth-0" onclick="CreateData()" type="button">Register</button>


            </form>
            <!-- Form -->

        </div>

    </div>
    <!-- Material form register -->


</body>
</html>